<%- include('./partials/Head.ejs') %>
<%- include('./partials/HeadD.ejs') %>
<link rel="stylesheet" type="text/css" href="/css/Profile.css" />

<body id="EditProfile">
  <%- include('./partials/nav.ejs') %>
     <!-- ======= Team Section ======= -->
     <section id="team" class="team section-bg">
      <div class="container">
        <div class="section-title">
          <h2></h2>
          <!-- <div class="underline"></div>
          <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Obcaecati,
            ducimus.
          </p> -->
        </div>
        <div class="row justify-content-md-center">
          <div class="col-lg-6">
            <div class="member flex  align-items-start">
              <div class="teampic">
                <!-- this gives an error + expert is not defined -->
                <img src="/uploads/<%= Expert.Picture %>" class="img-fluid fixed-size  rounded-circle" alt="" />
              </div>
              <style>
                .fixed-size {
                margin-left: 20px;
                margin-bottom: 30px;
                width:158px;
                height: 158px;
                }
                </style>
                <form action="updateExpert" method="post" >
                <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <input
                    name="First_Name"
                      type="text"
                      class="form-control"
                      id="name"
                      style="padding: 19px;"
                      value="<%= Expert.First_Name %>"
                      required
                    />
                  </div>
                <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <input
                    name="Last_Name"
                      type="text"
                      class="form-control"
                      id="name"
                      style="padding: 19px;"
                      value="<%= Expert.Last_Name %>"
                      required
                    />
                  </div>
                <span id="span1">
                  <div class="form-group" style="width: 250px; margin-top: 40px;">
                   <%= Expert.Credentials %>
                  </div>
                </span>
                  
                  <div id="rating">
                    <% for(let i = 0; i < Expert.Rating; i++) { %>
                      <span class="fa fa-star checked"></span>
                    <% } %>
                    <% for(let i = 0; i < (5-Expert.Rating); i++) { %>
                      <span class="fa fa-star "></span>
                    <% } %>
                  </div>
                <h6>Description</h6>
                <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <textarea name="infoTextarea" value="<%= Expert.infoTextarea %>" id="infoTextarea" class="form-control" rows="3" placeholder="Enter your information here"><%= Expert.infoTextarea %></textarea>
                </div>
                <br />
                <!-- <h6>Credentials/Experience</h6>
                <div class="form-group" style="width: 250px; margin-top: 10px;">
                 <textarea name="Credentials"  id="infoTextarea" class="form-control" rows="3" placeholder="Enter your information here"></textarea> -->
                
                
                <div class="social">
                  <a href="<%= Expert.Linkedin %>"><i class="bi bi-linkedin"></i></a>
                </div>
                <br><br>
                 <div >
                 <button class="btn card-button" style="margin-bottom: 80px;">Edit</button>
                </div>
              </form>

                <div >
                  <a href='/deleteExpert' class="btn card-button" > Delete</a>

                 </div>

                 <div >
                  <a href="/logout" class="btn card-button" style="margin-bottom: 80px;">Logout</a>
                  </div>
                <br /><br /><br />
                <h6 id="Reviews">Reviews &amp; Comments</h6>
              </div>
            </div>
          </div>
        </div>
       <!--Testimonials-->
       <section id="testimonials" >
        <div class="testimonials-box-container ">
              
          <!--BOX-1----->
          <% reviews.forEach(review => { %>
            <div class="testimonial-box" >
              <!--top----->
              <div class="box-top">
                <!--profile----->
                <div class="profile">
                  <!--img---->
                  <div class="profile-img">
                    <img src="/img/Account.jpg" />
                  </div>
                  <!--name-and-username-->
                  <div class="name-user">
                    <strong><%= review.userId.fullName %></strong>
                    <!-- <span>@NaifM</span> -->
                  </div>
                </div>
              </div>
              <!-- To comment CTRL / ME-->
              <!-- Comments --------->
              <div class="client-comment">
                <p><%= review.message %></p>
              </div>
            </div>
          <% }) %>

</div>

    </form>
  </div>
</div>
</div>
</section>
</div>
</div>
</div> 
</section>
<!-- End Testimonials -->
    </div>
  </section>
  <!-- End Team Section -->

  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"
  >
    const textarea = document.getElementById("infoTextarea");
    textarea.addEventListener("keyup", e =>{
      textarea.style.height = "63px";
      let scHeight = e.target.scrollHeight;
      textarea.style.height = `${scHeight}px`;
    });
</script>
<%- include('./partials/Footer.ejs') %>

</body>



