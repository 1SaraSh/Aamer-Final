<%- include('./partials/Head.ejs') %>
<%- include('./partials/HeadD.ejs') %>
<link rel="stylesheet" type="text/css" href="/css/Profile.css" />

  <body id="ExpertForm">
    <%- include('./partials/nav.ejs') %>

    <!-- ======= Team Section ======= -->
    <section id="team" class="team section-bg">
      <div class="container">
        <div class="section-title">
          <h2 style="text-align:center;">Become Aamer's Expert Now!</h2>
        </div>
        <div class="row justify-content-md-center">
          <div class="col-lg-6" style="background-color:#f5f5f5 ;">
            <div class="member d-flex align-items-start">
              
              <div class="member-info">
                
                <form  action="/FormExpert" method="POST" enctype="multipart/form-data">
                <div class="form-group" style="width: 250px; margin-top: 30px;">
                  <h6>First Name</h6>
                  <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <input
                    type="text"
                    class="form-control"
                    id="First_Name"
                    name="First_Name"
                    placeholder="Saleh"
                    style="padding: 19px;"
                    required
                  /> <span id="firstNameError" class="text-danger"></span>
                </div>
                  <br>
                  <h6>Last Name</h6>
                  <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <input
                    type="text"
                    class="form-control"
                    id="Last_Name"
                    name="Last_Name"
                    placeholder="Alsaud"
                    style="padding: 19px;"
                    required
                  /> <span id="lastNameError" class="text-danger"></span>
                </div>
                <br>
                  <h6>Phone Number</h6>
                  <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <input
                    type="text"
                    class="form-control"
                    id="Phone_Number"
                    name="Phone_Number"
                    placeholder="+966555555555"
                    style="padding: 19px;"
                    required
                  /> <span id="PhoneNumberError" class="text-danger"></span>
                </div>
                <br>
                  <h6>Email</h6>
                  <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <input
                    type="email"
                    class="form-control"
                    id="Email"
                    name="Email"
                    placeholder="company@Aamer.com"
                    style="padding: 19px;"
                    required
                  /> <span id="EmailError" class="text-danger"></span>
                </div>
                <br>
                  <h6>Password</h6>
                  <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <input
                    type="password"
                    class="form-control"
                    id="password"
                    name="password"
                    style="padding: 19px;"
                    required
                  /> <span id="PasswordError" class="text-danger"></span>
                </div>
                  <br>
                  <h6>Specialization</h6>
                  <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <select
                    type="text"
                    class="form-control"
                    id="Specialization"
                    name="Specialization"
                    required
                  >
                  <option value="" disabled selected>Choose Specialization</option>
                  <option value="Tech">Technology</option>
                    <option value="Fashion">Fashion</option>
                    <option value="Mechanics">Mechanics</option>
                    <option value="Fitness">Fitness</option>
                  </select>
                </div>
                <br>
                <h6>Credentials</h6>
                <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <input
                    type="text"
                    class="form-control"
                    id="Credentials"
                    name="Credentials"
                    placeholder="UI/UX Designer"
                    style="padding: 19px;"
                    required
                  /></span><br>
                </div>
                <br>
                <h6>Current Employment</h6>
                <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <input
                    type="text"
                    class="form-control"
                    id="Employment"
                    name="Employment"
                    placeholder="Company Name"
                    style="padding: 19px;"
                    required
                  />
                </div>
                <span id="EmploymentError" class="text-danger"></span><br>
                <br>
                <h6>Experience</h6>
                <div class="form-group" style="width: 250px; margin-top: 10px;">
                    <textarea id="infoTextarea" 
                    name="infoTextarea"
                    class="form-control" rows="3" placeholder="Enter your information here"></textarea>
                 </div>
                 <br>
                 <h6>Linkedin Link</h6>
                 <div class="form-group" style="width: 400px; margin-top: 10px;">
                     <input
                     type="text"
                     class="form-control"
                     id="Linkedin"
                     name="Linkedin"
                     placeholder="https://www.linkedin.com/in/Saleh-Alsaud/"
                     style="padding: 19px;"
                   />
                 </div>
                 <span id="linkedinError" class="text-danger"></span><br>
                 <br>
                 <h6>Profile Picture Attachement</h6>
                 <div class="form-group" style="width: 400px; margin-top: 10px;">
                     <input
                     type="file"
                     class="form-control"
                     id="Picture"
                     name="Picture"
                     style="height: 37px;"
                     required
                   />
                 </div>
                 <br><span id="submitError" class="text-danger"></span>
                 <br><br>
                 <div >
                 <button class="btn card-button" style="margin-bottom: 80px;" onclick="return validateForm()">Submit</button>
                </div>
                  </div>
                  
                </div>
            </div>
          </div>
        </div>
    </form>
        

  
  
      </div>
    </section>
    <!-- End Team Section -->
    <%- include('./partials/Footer.ejs') %>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    >
      const textarea = document.getElementById("infoTextarea");
      textarea.addEventListener("keyup", e =>{
        textarea.style.height = "63px";
        let scHeight = e.target.scrollHeight;
        textarea.style.height = `${scHeight}px`;
      });

</script>
<script>
  function validateForm() {
  var firstname = document.getElementById("First_Name").value;
  var lastname = document.getElementById("Last_Name").value;
  var linkedIn = document.getElementById("Linkedin").value;
  var specialization = document.getElementById("Specialization").value;
  var Credentials = document.getElementById("Credentials").value;
  var Employment = document.getElementById("Employment").value;
  var Picture = document.getElementById("Picture").value;
  var phoneNumber = document.getElementById("Phone_Number").value;
  var email = document.getElementById("Email").value;
  var password = document.getElementById("password").value;

  var linkedInRegex = /^(https?:\/\/)?(www\.)?linkedin\.com\/(in|profile)\/[a-zA-Z0-9_-]{5,30}\/?$/;
  var phoneNumberRegex = /^\+\d{12}$/;
  var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  var passwordRegex = /^(?=.*[A-Z])(?=.*\d)[A-Z\d]{6,}$/;
  var submitOK = true;

  //if empty
  if (
    firstname == "" ||
    lastname == "" ||
    linkedIn == "" ||
    specialization == "" ||
    Credentials == "" ||
    Employment == "" ||
    Picture == "" ||
    phoneNumber == "" ||
    email == "" ||
    password == ""
  ) {
    document.getElementById("submitError").textContent =
      "Fill the required information.";
    submitOK = false; // prevent the form submission
  } else {
    document.getElementById("submitError").textContent = "";
  }

// First Name error
var firstNameRegex = /^[A-Za-z\s]+$/;
if (!firstNameRegex.test(firstname) && firstname != "") {
  document.getElementById("firstNameError").textContent =
    "First Name is required and should only contain letters and spaces";
  submitOK = false;
} else {
  document.getElementById("firstNameError").textContent = "";
}

// Last Name error
var lastNameRegex = /^[A-Za-z\s]+$/;
if (!lastNameRegex.test(lastname) && lastname != "") {
  document.getElementById("lastNameError").textContent =
    "Last Name is required and should only contain letters and spaces";
  submitOK = false;
} else {
  document.getElementById("lastNameError").textContent = "";
}

  // Linkedin error
  if (!linkedInRegex.test(linkedIn) && linkedIn != "") {
    document.getElementById("linkedinError").textContent =
      "Invalid LinkedIn Link";
    submitOK = false;
  } else {
    document.getElementById("linkedinError").textContent = "";
  }

  // Phone Number error
  if (!phoneNumberRegex.test(phoneNumber) && phoneNumber != "") {
    document.getElementById("PhoneNumberError").textContent =
      "Invalid phone number format";
    submitOK = false;
  } else {
    document.getElementById("PhoneNumberError").textContent = "";
  }

  // Email error
  if (!emailRegex.test(email) && email != "") {
    document.getElementById("EmailError").textContent = "Invalid email format";
    submitOK = false;
  } else {
    document.getElementById("EmailError").textContent = "";
  }

  // Password error
  if (!passwordRegex.test(password) && password != "") {
    document.getElementById("passwordError").textContent = "Password must include at least one uppercase letter, one lowercase letter, one number, and be at least 6 characters long.";
    submitOK = false;
  } else {
    document.getElementById("PasswordError").textContent = "";
  }

  return submitOK;
}


</script>

  </body>
</html>